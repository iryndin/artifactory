<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN"
        "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>
    <bean id="configBean" class="org.jfrog.maven.viewer.common.Config" init-method="init"/>

    <bean id="application"
          class="org.springframework.richclient.application.Application">
        <constructor-arg index="0">
            <ref bean="applicationDescriptor"/>
        </constructor-arg>
        <constructor-arg index="1">
            <ref bean="viewerLifecycleAdvisor"/>
        </constructor-arg>
    </bean>

    <bean id="applicationDescriptor"
          class="org.springframework.richclient.application.support.DefaultApplicationDescriptor">
        <property name="version">
            <value>1.0</value>
        </property>
        <property name="buildId">
            <value>1</value>
        </property>
    </bean>

    <bean id="viewerLifecycleAdvisor"
          class="org.jfrog.maven.viewer.ViewerLifecycleAdvisor">
        <property name="windowCommandBarDefinitions">
            <value>org/jfrog/maven/viewer/ui/commands-context.xml</value>
        </property>
        <property name="startingPageId">
            <value>dependencyView</value>
        </property>
    </bean>

    <!--
        Bean: serviceLocator
        Usage: Platform required
        Description: This defines the singleton application service locator instance.
            This is a trivial singleton object providing access to the configured
            services, as specified on the applicationServices property.
    -->
    <bean id="serviceLocator" class="org.springframework.richclient.application.ApplicationServicesLocator">
        <property name="applicationServices" ref="applicationServices"/>
    </bean>

    <bean id="applicationServices"
          class="org.springframework.richclient.application.support.DefaultApplicationServices">
        <property name="applicationObjectConfigurerId">
            <idref bean="applicationObjectConfigurer"/>
        </property>
        <property name="formComponentInterceptorFactoryId">
            <idref bean="formComponentInterceptorFactory"/>
        </property>
        <property name="imageSourceId">
            <idref bean="imageSource"/>
        </property>
        <property name="rulesSourceId">
            <idref bean="rulesSource"/>
        </property>
    </bean>

    <bean id="applicationObjectConfigurer" depends-on="serviceLocator"
          class="org.springframework.richclient.application.config.DefaultApplicationObjectConfigurer">
    </bean>

    <bean id="applicationEventMulticaster"
          class="org.springframework.context.event.SimpleApplicationEventMulticaster"/>

    <bean id="lookAndFeelConfigurer"
          class="org.springframework.richclient.application.config.JGoodiesLooksConfigurer">
        <property name="popupDropShadowEnabled" value="false"/>
        <property name="theme">
            <bean class="com.jgoodies.looks.plastic.theme.ExperienceBlue"/>
        </property>
    </bean>

    <bean id="imageResourcesFactory"
          class="org.springframework.context.support.ResourceMapFactoryBean">
        <property name="locations">
            <list>
                <value>classpath:org/jfrog/maven/viewer/ui/images.properties</value>
            </list>
        </property>
        <property name="resourceBasePath">
            <value>images/</value>
        </property>
    </bean>

    <bean id="messageSource"
          class="org.springframework.context.support.ResourceBundleMessageSource">
        <property name="basenames">
            <list>
                <value>org.jfrog.maven.viewer.ui.messages</value>
                <value>org.springframework.richclient.application.messages</value>
            </list>
        </property>
    </bean>

    <bean id="imageSource"
          class="org.springframework.richclient.image.DefaultImageSource">
        <constructor-arg index="0">
            <ref bean="imageResourcesFactory"/>
        </constructor-arg>
        <property name="brokenImageIndicator">
            <value>images/alert/error_obj.gif</value>
        </property>
    </bean>

    <bean id="dependencyView"
          class="org.springframework.richclient.application.support.DefaultViewDescriptor">
        <property name="viewClass">
            <value>org.jfrog.maven.viewer.ui.view.DependencyView</value>
        </property>
    </bean>

    <bean id="formComponentInterceptorFactory"
          class="org.springframework.richclient.form.builder.support.ChainedInterceptorFactory">
        <property name="interceptorFactories">
            <list>
                <bean class="org.springframework.richclient.form.builder.support.ColorValidationInterceptorFactory">
                    <property name="errorColor">
                        <value>255,245,245</value>
                    </property>
                </bean>
                <bean class="org.springframework.richclient.form.builder.support.OverlayValidationInterceptorFactory"/>
                <bean class="org.springframework.richclient.text.TextComponentPopupInterceptorFactory"/>
                <bean class="org.springframework.richclient.list.ComboBoxAutoCompletionInterceptorFactory"/>
            </list>
        </property>
    </bean>

    <bean id="rulesSource"
          class="org.jfrog.maven.viewer.ui.model.ViewerValidationRulesSource"/>

        <bean id="artifactFactory"
          class="org.jfrog.maven.viewer.domain.ArtifactFactory">
        <property name="daoFactory" ref="daoFactory"/>
    </bean>

    <bean id="daoFactory"
          class="org.jfrog.maven.viewer.dao.DaoFactoryImpl">
    </bean>
</beans>