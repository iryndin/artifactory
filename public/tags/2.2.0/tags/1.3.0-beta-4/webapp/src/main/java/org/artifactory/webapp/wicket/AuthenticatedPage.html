<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<wicket:head>
    <script type="text/javascript">
        dojo.require("dojo.cookie");
        dojo.require("dijit.form.Button");
        //Scan page for widgets and instantiate them
        dojo.require("dojo.parser");

        dojo.addOnLoad(initMenus);

        function menu_onclick(menu) {
            var subMenu = menu.nextSibling.nextSibling;
            var state = (menu.className == 'opened' ? 'closed' : 'opened');
            menu.className = state;
            subMenu.className = state;
            dojo.cookie('menu_' + menu.id, state, 30);
            return false;
        }

        function menu_init(id) {
            var menu = document.getElementById(id);
            var state = dojo.cookie('menu_' + id);
            //If there is cookie use it, else use a hardcoded state if present, else use the default
            if (!state) {
                if (menu.className) {
                    state = menu.className;
                } else {
                    state = 'closed';
                }
            }
            var subMenu = menu.nextSibling.nextSibling;
            menu.className = state;
            subMenu.className = state;
        }

        function initMenus() {
            menu_init('repositories');
            menu_init('artifacts');
            menu_init('importexport');
            menu_init('security');
            menu_init('configuration');
        }
    </script>
    <title wicket:id="pageTitle"/>
</wicket:head>

<body>
<wicket:extend>
    <div class="user_info"><span wicket:id="username" class="username">admin</span>
        <a wicket:id="profilePage" class="topBarLink profileLink" href="#">Profile</a>
        <span>&nbsp;|&nbsp;</span>
        <a wicket:id="logoutPage" class="topBarLink" href="#">Log Out</a>
        <a wicket:id="loginPage" class="topBarLink" href="#">Log In</a></div>
    <div class="sidemenu">
        <div class="sidemenu_top">
            <div class="sidemenu_bottom">
                <ul>
                    <li class="">
                        <a id="repositories" class="opened" onclick="return menu_onclick(this);"
                           href="javascript:;">Repositories</a>
                        <ul>
                            <li>
                                <a wicket:id="browsePage">Physical Repositories</a>
                            </li>
                            <li>
                                <a wicket:id="browseVirtualPage">Virtual Repositories</a>
                            </li>
                            <!--<li>
                                <a>Maven Config</a>
                            </li>-->
                        </ul>
                    </li>
                    <li class="">
                        <a id="artifacts" class="opened" onclick="return menu_onclick(this);"
                           href="javascript:;">Artifacts</a>
                        <ul>
                            <li>
                                <a wicket:id="deployPage">Deploy Artifacts</a>
                            </li>
                            <li>
                                <a wicket:id="locatePage" id="locate">Search Artifacts</a>
                            </li>
                        </ul>
                    </li>
                    <li class="">
                        <a id="security" onclick="return menu_onclick(this);"
                           href="javascript:;">Security</a>
                        <ul>
                            <li>
                                <a wicket:id="usersPage">Users</a>
                            </li>
                            <li>
                                <a wicket:id="groupsPage">Groups</a>
                            </li>
                            <li>
                                <a wicket:id="aclsPage">Permissions</a>
                            </li>
                        </ul>
                    </li>
                    <li class="">
                        <a id="importexport" onclick="return menu_onclick(this);"
                           href="javascript:;">Export & Import</a>
                        <ul>
                            <li>
                                <a wicket:id="importExportSystemPage">Full System</a>
                            </li>
                            <li>
                                <a wicket:id="importExportReposPage">Repositories</a>
                            </li>
                        </ul>
                    </li>
                    <li class="">
                        <a id="configuration" onclick="return menu_onclick(this);"
                           href="javascript:;">Configuration</a>
                        <ul>
                            <li>
                                <a wicket:id="reloadConfigPage">Reload Configuration</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="artifactory_content">
        <div wicket:id="feedback"></div>
        <wicket:child/>
    </div>
</wicket:extend>
</body>

</html>